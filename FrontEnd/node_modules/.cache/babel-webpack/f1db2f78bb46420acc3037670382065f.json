{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/toolbar\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/icon\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"../../../footer/footer.component\";\nimport * as i8 from \"@angular/material/card\";\n\nfunction DriverRideComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 6);\n    i0.ɵɵelementStart(2, \"mat-card\");\n    i0.ɵɵelementStart(3, \"h1\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h3\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelement(11, \"br\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"slice\");\n    i0.ɵɵelement(14, \"br\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelement(16, \"br\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelement(18, \"br\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelement(20, \"br\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelement(22, \"br\");\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24);\n    i0.ɵɵelementStart(25, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function DriverRideComponent_div_21_Template_button_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const ride_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.bookingAccepted(ride_r1._id);\n    });\n    i0.ɵɵtext(26, \" Accept \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"h2\");\n    i0.ɵɵtext(28, \"--------------------------------------\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ride_r1 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"#id \", ride_r1._id.toString(), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"First Name: \", ride_r1.firstName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Last Name: \", ride_r1.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Mobile No.: \", ride_r1.mobileNo, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Date: \", ride_r1.date.length > 11 ? i0.ɵɵpipeBind3(13, 11, ride_r1.date, 0, 10) + \"\" : ride_r1.date, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Days: \", ride_r1.days, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Time: \", ride_r1.time, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Ride Type: \", ride_r1.typeOfRide, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Pick Up Location: \", ride_r1.pickUp, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Destination: \", ride_r1.destiny, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Status: \", ride_r1.status, \" \");\n  }\n}\n\nexport let DriverRideComponent = /*#__PURE__*/(() => {\n  class DriverRideComponent {\n    // driverRideDetails : Array<any>;\n    constructor(_http, _router) {\n      this._http = _http;\n      this._router = _router;\n    }\n\n    fetchDriverDetails() {\n      this._http.get('http://localhost:3000/bookings/pending/').subscribe(msg => {\n        console.log(msg);\n        this.driverRideDetails = msg;\n      }, error => console.error(\"Print Error\", error));\n    } //   acceptedDetails(){\n    //     this._http.get('http://localhost:3000/bookings/accepted/').subscribe(\n    //       data => {\n    //         console.log(data);\n    //         this.acceptedRideDetails = data;\n    //       },\n    //       error=>console.error(\"Print Error\",error)\n    //     );\n    // }\n\n\n    bookingAccepted(rideId) {\n      this._http.put('http://localhost:3000/bookings/booking/' + rideId, {\n        status: \"Accepted\"\n      }).subscribe(); //this._router.navigate(['/driver-rides']);\n\n\n      this.ngOnInit();\n    }\n\n    ngOnInit() {\n      this.fetchDriverDetails(); // .subscribe(\n      //   data=> {console.log(data); this._router.navigate(['/login-driver']);},\n      //   error=>console.error(error)\n      //console.log(JSON.stringify(this.registerDriverForm.value));\n      //this._router.navigate(['/login-driver']);\n      //)}\n    }\n\n  }\n\n  DriverRideComponent.ɵfac = function DriverRideComponent_Factory(t) {\n    return new (t || DriverRideComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  DriverRideComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DriverRideComponent,\n    selectors: [[\"app-driver-ride\"]],\n    decls: 23,\n    vars: 4,\n    consts: [[\"mat-button\", \"\", \"routerLink\", \"/\", 1, \"companyName\"], [1, \"menu-spacer\"], [\"mat-button\", \"\", 3, \"routerLink\"], [\"id\", \"banner\"], [1, \"card\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"block\"], [\"mat-raised-button\", \"\", 1, \"button1\", 3, \"click\"]],\n    template: function DriverRideComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"body\");\n        i0.ɵɵelementStart(1, \"mat-toolbar\");\n        i0.ɵɵelementStart(2, \"mat-toolbar-row\");\n        i0.ɵɵelementStart(3, \"a\", 0);\n        i0.ɵɵelementStart(4, \"span\");\n        i0.ɵɵelementStart(5, \"h1\");\n        i0.ɵɵtext(6, \"VDrive\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(7, \"span\", 1);\n        i0.ɵɵelementStart(8, \"div\");\n        i0.ɵɵelementStart(9, \"a\", 2);\n        i0.ɵɵtext(10, \" My Account \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"a\", 2);\n        i0.ɵɵtext(12, \" Rides \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"mat-icon\");\n        i0.ɵɵtext(14, \"meeting_room\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"a\", 2);\n        i0.ɵɵtext(16, \" Logout \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"router-outlet\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 3);\n        i0.ɵɵtext(19, \" Requested Bookings:\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"div\", 4);\n        i0.ɵɵtemplate(21, DriverRideComponent_div_21_Template, 29, 15, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(22, \"app-footer\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"routerLink\", \"/driver-profile\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", \"/driver-rides\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"routerLink\", \"/login-driver\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.driverRideDetails.data);\n      }\n    },\n    directives: [i3.MatToolbar, i3.MatToolbarRow, i4.MatAnchor, i2.RouterLinkWithHref, i5.MatIcon, i2.RouterOutlet, i6.NgForOf, i7.FooterComponent, i8.MatCard, i4.MatButton],\n    pipes: [i6.SlicePipe],\n    styles: [\"div[_ngcontent-%COMP%]{margin:5% 15%;text-align:left}#banner[_ngcontent-%COMP%]{font-size:28px;background-color:#363636;padding:2%;color:#fff;border-radius:20%;text-align:center}.button1[_ngcontent-%COMP%]{margin:10% 5% 0;padding:2% 7%;background-color:#fd288c;color:#fff;font-size:150%}mat-card[_ngcontent-%COMP%]{margin:10% 20%;padding:8% 8% 5%;border-radius:5%;color:#1b1a1a;background-color:#fff;width:50%}mat-toolbar[_ngcontent-%COMP%]{height:7vh;background-color:#111111e0;color:#fffaf0}.menu-spacer[_ngcontent-%COMP%]{flex:1 1 auto}a[_ngcontent-%COMP%]{text-decoration:none;font-size:110%;white-space:normal}mat-icon[_ngcontent-%COMP%]{margin-right:-4%}\"]\n  });\n  return DriverRideComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}